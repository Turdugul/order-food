{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Desktop/react-lessons/order-food/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/user/Desktop/react-lessons/order-food/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/user/Desktop/react-lessons/order-food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var CartContext=/*#__PURE__*/React.createContext({addedMeals:[],totalAmount:0,onAddMeal:function onAddMeal(){}});export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),addedMeals=_useState2[0],setAddedMeals=_useState2[1];var addMealHandler=function addMealHandler(newMeal){var currentIndex=addedMeals.findIndex(function(m){return m.id===newMeal.id;});if(currentIndex===-1){return setAddedMeals([].concat(_toConsumableArray(addedMeals),[newMeal]));}var newMeals=addedMeals.map(function(meal){if(meal.id===newMeal.id){return _objectSpread(_objectSpread({},meal),{},{amount:meal.amount+newMeal.amount});}return meal;});setAddedMeals(newMeals);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{addedMeals:addedMeals,onAddMeal:addMealHandler,totalAmount:0},children:children});};","map":{"version":3,"names":["React","useState","jsx","_jsx","CartContext","createContext","addedMeals","totalAmount","onAddMeal","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","setAddedMeals","addMealHandler","newMeal","currentIndex","findIndex","m","id","concat","_toConsumableArray","newMeals","map","meal","_objectSpread","amount","Provider","value"],"sources":["C:/Users/user/Desktop/react-lessons/order-food/src/store/cart-context.js"],"sourcesContent":["import React, { useState} from 'react'\r\n\r\nexport const CartContext = React.createContext({\r\n\taddedMeals: [],\r\n\ttotalAmount: 0,\r\n\tonAddMeal: () => {},\r\n})\r\n\r\nexport const CartProvider = ({ children }) => {\r\n\tconst [addedMeals, setAddedMeals] = useState([])\r\n\r\n\tconst addMealHandler = (newMeal) => {\r\n\t\tconst currentIndex = addedMeals.findIndex((m) => m.id === newMeal.id)\r\n\t\tif (currentIndex === -1) {\r\n\t\t\treturn setAddedMeals([...addedMeals, newMeal])\r\n\t\t}\r\n\t\tconst newMeals = addedMeals.map((meal) => {\r\n\t\t\tif (meal.id === newMeal.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...meal,\r\n\t\t\t\t\tamount: meal.amount + newMeal.amount,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn meal\r\n\t\t})\r\n\t\tsetAddedMeals(newMeals)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CartContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\taddedMeals,\r\n\t\t\t\tonAddMeal: addMealHandler,\r\n\t\t\t\ttotalAmount: 0,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</CartContext.Provider>\r\n\t)\r\n}\r\n"],"mappings":"mZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAO,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEtC,MAAO,IAAM,CAAAC,WAAW,cAAGJ,KAAK,CAACK,aAAa,CAAC,CAC9CC,UAAU,CAAE,EAAE,CACdC,WAAW,CAAE,CAAC,CACdC,SAAS,CAAE,SAAAA,UAAA,CAAM,CAAC,CACnB,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACtC,IAAAC,SAAA,CAAoCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCN,UAAU,CAAAO,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEhC,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,OAAO,CAAK,CACnC,GAAM,CAAAC,YAAY,CAAGZ,UAAU,CAACa,SAAS,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,EAAE,GAAKJ,OAAO,CAACI,EAAE,GAAC,CACrE,GAAIH,YAAY,GAAK,CAAC,CAAC,CAAE,CACxB,MAAO,CAAAH,aAAa,IAAAO,MAAA,CAAAC,kBAAA,CAAKjB,UAAU,GAAEW,OAAO,EAAC,CAAC,CAC/C,CACA,GAAM,CAAAO,QAAQ,CAAGlB,UAAU,CAACmB,GAAG,CAAC,SAACC,IAAI,CAAK,CACzC,GAAIA,IAAI,CAACL,EAAE,GAAKJ,OAAO,CAACI,EAAE,CAAE,CAC3B,OAAAM,aAAA,CAAAA,aAAA,IACID,IAAI,MACPE,MAAM,CAAEF,IAAI,CAACE,MAAM,CAAGX,OAAO,CAACW,MAAM,GAEtC,CACA,MAAO,CAAAF,IAAI,CACZ,CAAC,CAAC,CACFX,aAAa,CAACS,QAAQ,CAAC,CACxB,CAAC,CAED,mBACCrB,IAAA,CAACC,WAAW,CAACyB,QAAQ,EACpBC,KAAK,CAAE,CACNxB,UAAU,CAAVA,UAAU,CACVE,SAAS,CAAEQ,cAAc,CACzBT,WAAW,CAAE,CACd,CAAE,CAAAI,QAAA,CAEDA,QAAQ,CACY,CAAC,CAEzB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}