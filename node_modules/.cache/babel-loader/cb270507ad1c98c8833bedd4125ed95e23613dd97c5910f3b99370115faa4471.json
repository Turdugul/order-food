{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Desktop/react-lessons/order-food/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"C:/Users/user/Desktop/react-lessons/order-food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import React,{useContext,useEffect,useState}from\"react\";import{BasketIcon}from\"../../assets\";import{keyframes,styled}from\"styled-components\";import{ModalContext}from\"../../store/modal-context\";import{CartContext}from\"../../store/cart-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var HeaderCartButton=function HeaderCartButton(){var _useContext=useContext(ModalContext),onOpen=_useContext.onOpen;var _useContext2=useContext(CartContext),addedMeals=_useContext2.addedMeals;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),bump=_useState2[0],setBump=_useState2[1];var addedMealsCount=addedMeals.reduce(function(acc,meal){return acc+meal.amount;},0);useEffect(function(){setBump(\"bump\");setTimeout(function(){setBump(\"\");},300);},[addedMealsCount]);return/*#__PURE__*/_jsxs(StyledButton,{onClick:onOpen,className:bump,children:[/*#__PURE__*/_jsx(BasketIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"bump\",children:\"Your cart\"}),/*#__PURE__*/_jsx(Badge,{children:addedMealsCount})]});};var Badge=styled.span(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #8a2b06;\\n  font-weight: 700;\\n  padding: 4px 20px;\\n  border-radius: 30px;\\n  font-size: 20px;\\n  margin-left: 1rem;\\n\"])));var StyledButton=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n  border: none;\\n  color: white;\\n  background-color: #5a1f08;\\n  padding: 0.75rem 2rem;\\n  border-radius: 30px;\\n  &:hover,\\n  &:active {\\n    background-color: #461805;\\n  }\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n\\n  &.bump {\\n    animation: BUMP 300ms ease-out;\\n  }\\n\\n  &:hover > \",\" {\\n    background-color: #671f03;\\n    animation: BUMP 300ms ease-out;\\n  }\\n  & > svg {\\n    margin-right: 0.5rem;\\n  }\\n  & > .bump {\\n    font-size: 1rem;\\n    font-weight: 600;\\n  }\\n\\n  @keyframes BUMP {\\n    0% {\\n      transform: scale(1);\\n    }\\n    10% {\\n      transform: scale(0.9);\\n    }\\n    30% {\\n      transform: scale(1.1);\\n    }\\n    50% {\\n      transform: scale(1.15);\\n    }\\n    100% {\\n      transform: scale(1);\\n    }\\n  }\\n\"])),Badge);","map":{"version":3,"names":["React","useContext","useEffect","useState","BasketIcon","keyframes","styled","ModalContext","CartContext","jsx","_jsx","jsxs","_jsxs","HeaderCartButton","_useContext","onOpen","_useContext2","addedMeals","_useState","_useState2","_slicedToArray","bump","setBump","addedMealsCount","reduce","acc","meal","amount","setTimeout","StyledButton","onClick","className","children","Badge","span","_templateObject","_taggedTemplateLiteral","button","_templateObject2"],"sources":["C:/Users/user/Desktop/react-lessons/order-food/src/components/header/HeaderCartButton.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { BasketIcon } from \"../../assets\";\r\nimport { keyframes, styled } from \"styled-components\";\r\nimport { ModalContext } from \"../../store/modal-context\";\r\nimport { CartContext } from \"../../store/cart-context\";\r\n\r\nexport const HeaderCartButton = () => {\r\n  const { onOpen } = useContext(ModalContext);\r\n\r\n  const { addedMeals } = useContext(CartContext);\r\n\r\n  const [bump, setBump] = useState(\"\");\r\n\r\n  const addedMealsCount = addedMeals.reduce((acc, meal) => {\r\n    return acc + meal.amount;\r\n  }, 0);\r\n\r\n  useEffect(() => {\r\n    setBump(\"bump\");\r\n    setTimeout(() => {\r\n      setBump(\"\");\r\n    }, 300);\r\n  }, [addedMealsCount]);\r\n\r\n  return (\r\n    <StyledButton onClick={onOpen} className={bump}>\r\n      <BasketIcon />\r\n      <span className=\"bump\">Your cart</span>\r\n      <Badge>{addedMealsCount}</Badge>\r\n    </StyledButton>\r\n  );\r\n};\r\nconst Badge = styled.span`\r\n  background-color: #8a2b06;\r\n  font-weight: 700;\r\n  padding: 4px 20px;\r\n  border-radius: 30px;\r\n  font-size: 20px;\r\n  margin-left: 1rem;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  cursor: pointer;\r\n  border: none;\r\n  color: white;\r\n  background-color: #5a1f08;\r\n  padding: 0.75rem 2rem;\r\n  border-radius: 30px;\r\n  &:hover,\r\n  &:active {\r\n    background-color: #461805;\r\n  }\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n\r\n  &.bump {\r\n    animation: BUMP 300ms ease-out;\r\n  }\r\n\r\n  &:hover > ${Badge} {\r\n    background-color: #671f03;\r\n    animation: BUMP 300ms ease-out;\r\n  }\r\n  & > svg {\r\n    margin-right: 0.5rem;\r\n  }\r\n  & > .bump {\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n  }\r\n\r\n  @keyframes BUMP {\r\n    0% {\r\n      transform: scale(1);\r\n    }\r\n    10% {\r\n      transform: scale(0.9);\r\n    }\r\n    30% {\r\n      transform: scale(1.1);\r\n    }\r\n    50% {\r\n      transform: scale(1.15);\r\n    }\r\n    100% {\r\n      transform: scale(1);\r\n    }\r\n  }\r\n`;\r\n"],"mappings":"6TAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,SAAS,CAAEC,MAAM,KAAQ,mBAAmB,CACrD,OAASC,YAAY,KAAQ,2BAA2B,CACxD,OAASC,WAAW,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvD,MAAO,IAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CACpC,IAAAC,WAAA,CAAmBb,UAAU,CAACM,YAAY,CAAC,CAAnCQ,MAAM,CAAAD,WAAA,CAANC,MAAM,CAEd,IAAAC,YAAA,CAAuBf,UAAU,CAACO,WAAW,CAAC,CAAtCS,UAAU,CAAAD,YAAA,CAAVC,UAAU,CAElB,IAAAC,SAAA,CAAwBf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpB,GAAM,CAAAI,eAAe,CAAGN,UAAU,CAACO,MAAM,CAAC,SAACC,GAAG,CAAEC,IAAI,CAAK,CACvD,MAAO,CAAAD,GAAG,CAAGC,IAAI,CAACC,MAAM,CAC1B,CAAC,CAAE,CAAC,CAAC,CAELzB,SAAS,CAAC,UAAM,CACdoB,OAAO,CAAC,MAAM,CAAC,CACfM,UAAU,CAAC,UAAM,CACfN,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAAE,CAACC,eAAe,CAAC,CAAC,CAErB,mBACEX,KAAA,CAACiB,YAAY,EAACC,OAAO,CAAEf,MAAO,CAACgB,SAAS,CAAEV,IAAK,CAAAW,QAAA,eAC7CtB,IAAA,CAACN,UAAU,GAAE,CAAC,cACdM,IAAA,SAAMqB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,cACvCtB,IAAA,CAACuB,KAAK,EAAAD,QAAA,CAAET,eAAe,CAAQ,CAAC,EACpB,CAAC,CAEnB,CAAC,CACD,GAAM,CAAAU,KAAK,CAAG3B,MAAM,CAAC4B,IAAI,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,qJAOxB,CAED,GAAM,CAAAP,YAAY,CAAGvB,MAAM,CAAC+B,MAAM,CAAAC,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,yyBAmBpBH,KAAK,CA6BlB"},"metadata":{},"sourceType":"module","externalDependencies":[]}