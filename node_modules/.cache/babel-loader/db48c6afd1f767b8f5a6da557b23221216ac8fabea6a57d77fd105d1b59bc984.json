{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\react-lessons\\\\order-food\\\\src\\\\store\\\\cart-context.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/React.createContext({\n  addedMeals: [],\n  onAddMeal: () => {},\n  onIncreaseMealAmount: () => {},\n  onDecreaseMealAmount: () => {}\n});\nconst ADD_MEAL_TYPE = \"ADD_MEAL\";\nconst INCREASE_MEAL_AMOUNT_TYPE = \"INCREASE_AMOUNT\";\nconst DECREASE_MEAL_AMOUNT_TYPE = \"DECREASE_AMOUNT\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ADD_MEAL_TYPE:\n      {\n        const prevMeals = state.addedMeals;\n        const newMeal = action.payload; ///title, price, id, amount\n\n        if (prevMeals.length === 0) {\n          return {\n            ...state,\n            addedMeals: [newMeal] ////we added newMeal\n          };\n        }\n\n        const isMealExists = prevMeals.find(meal => meal.id === newMeal.id);\n        console.log(isMealExists, \"=>already here\");\n        if (isMealExists === undefined) {\n          return {\n            ...state,\n            addedMeals: [...prevMeals, newMeal] ////we added another newMeal\n          };\n        }\n\n        const newAddedMeals = prevMeals.map(meal => {\n          if (meal.id === newMeal.id) {\n            return {\n              ...meal,\n              amount: meal.amount + newMeal.amount\n            }; ////we added mealsamount\n          }\n\n          return meal;\n        });\n        return {\n          ...state,\n          addedMeals: newAddedMeals\n        };\n      }\n    case INCREASE_MEAL_AMOUNT_TYPE:\n      {\n        const prevMeals = state.addedMeals; ///[{}, {}]\n        const mealId = action.payload; //id=1\n        const newAddedMeals = prevMeals.map(meal => {\n          if (meal.id === mealId) {\n            return {\n              ...meal,\n              amount: meal.amount + 1\n            }; ////we added mealsAmount+1\n          }\n\n          return meal;\n        }); ///[{sushi=amount:1+1+1, id:1}, {pizza=amount:1, id:2}]\n\n        return {\n          ...state,\n          addedMeals: newAddedMeals\n        };\n      }\n    case DECREASE_MEAL_AMOUNT_TYPE:\n      {\n        const prevMeals = state.addedMeals; ///[{}, {}]\n        const mealId = action.payload; //id=1\n\n        const currentMealItem = prevMeals.find(meal => meal.id === mealId);\n        if (currentMealItem.amount === 1) {\n          return {\n            ...state,\n            addedMeals: prevMeals.filter(meal => meal.id !== currentMealItem.id)\n          };\n        }\n        const newAddedMeals = prevMeals.map(meal => {\n          if (meal.id === mealId) {\n            return {\n              ...meal,\n              amount: meal.amount - 1\n            }; ////we added mealsAmount+1\n          }\n\n          return meal;\n        }); ///[{sushi=amount:5-1-1, id:1}, {pizza=amount:1, id:2}]\n\n        return {\n          ...state,\n          addedMeals: newAddedMeals\n        };\n      }\n    default:\n      {\n        return state;\n      }\n  }\n};\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cartState, dispatch] = useReducer(reducer, {\n    addedMeals: []\n  });\n  const {\n    addedMeals = []\n  } = cartState;\n  const addMealHandler = newMeal => {\n    dispatch({\n      type: ADD_MEAL_TYPE,\n      payload: newMeal\n    });\n  };\n  const increaseMealAmountHandler = id => {\n    console.log(id, \"id of choosen meal\");\n    dispatch({\n      type: INCREASE_MEAL_AMOUNT_TYPE,\n      payload: id\n    });\n  };\n  const decreaseMealAmountHandler = id => {\n    console.log(id, \"id of choosen meal\");\n    dispatch({\n      type: DECREASE_MEAL_AMOUNT_TYPE,\n      payload: id\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      addedMeals,\n      onAddMeal: addMealHandler,\n      totalAmount,\n      onIncreaseMealAmount: increaseMealAmountHandler,\n      onDecreaseMealAmount: decreaseMealAmountHandler\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 3\n  }, this);\n};\n_s(CartProvider, \"AKd0QNv64J6LbcTzevovewY4G54=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","CartContext","createContext","addedMeals","onAddMeal","onIncreaseMealAmount","onDecreaseMealAmount","ADD_MEAL_TYPE","INCREASE_MEAL_AMOUNT_TYPE","DECREASE_MEAL_AMOUNT_TYPE","reducer","state","action","type","prevMeals","newMeal","payload","length","isMealExists","find","meal","id","console","log","undefined","newAddedMeals","map","amount","mealId","currentMealItem","filter","CartProvider","children","_s","cartState","dispatch","addMealHandler","increaseMealAmountHandler","decreaseMealAmountHandler","Provider","value","totalAmount","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/react-lessons/order-food/src/store/cart-context.js"],"sourcesContent":["import React, { useReducer} from 'react'\r\n\r\nexport const CartContext = React.createContext({\r\n\taddedMeals: [],\r\n\r\n\tonAddMeal: () => {},\r\n\tonIncreaseMealAmount: ()=>{},\r\n\tonDecreaseMealAmount: ()=>{},\r\n})\r\n\r\n\r\nconst ADD_MEAL_TYPE = \"ADD_MEAL\";\r\nconst INCREASE_MEAL_AMOUNT_TYPE= \"INCREASE_AMOUNT\"\r\nconst DECREASE_MEAL_AMOUNT_TYPE= \"DECREASE_AMOUNT\"\r\nconst reducer = (state, action) => {\r\nswitch (action.type) {\r\n\tcase ADD_MEAL_TYPE:{\r\n\t\tconst prevMeals = state.addedMeals\r\n\t\tconst newMeal = action.payload ///title, price, id, amount\r\n\r\n\t\tif(prevMeals.length === 0){\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddedMeals: [newMeal], ////we added newMeal\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst isMealExists = prevMeals.find(\r\n\t\t\t(meal)=>meal.id === newMeal.id,\r\n\t\t)\r\n\t\tconsole.log(isMealExists, \"=>already here\");\r\n\t\tif (isMealExists === undefined){\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddedMeals: [...prevMeals, newMeal], ////we added another newMeal\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst newAddedMeals = prevMeals.map((meal)=> {\r\n\t\t\tif(meal.id === newMeal.id){\r\n\t\t\t\treturn {...meal, amount: meal.amount + newMeal.amount} ////we added mealsamount\r\n\t\t\t}\r\n\t\t\treturn meal\r\n\t\t})\r\n\r\n\t\treturn{\r\n\t\t\t...state,\r\n\t\t\taddedMeals: newAddedMeals,\r\n\t\t}\r\n\t}\r\n\r\n\tcase INCREASE_MEAL_AMOUNT_TYPE:{\r\n\t\tconst prevMeals = state.addedMeals ///[{}, {}]\r\n\t\tconst mealId = action.payload //id=1\r\n\t\tconst newAddedMeals = prevMeals.map((meal)=> {\r\n\t\t\tif(meal.id === mealId){\r\n\t\t\t\treturn {...meal, amount: meal.amount + 1} ////we added mealsAmount+1\r\n\t\t\t}\r\n\t\t\treturn meal\r\n\t\t}) ///[{sushi=amount:1+1+1, id:1}, {pizza=amount:1, id:2}]\r\n\t\r\n\t\treturn{\r\n\t\t\t...state,\r\n\t\t\taddedMeals: newAddedMeals,\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tcase DECREASE_MEAL_AMOUNT_TYPE:{\r\n\t\tconst prevMeals = state.addedMeals ///[{}, {}]\r\n\t\tconst mealId = action.payload //id=1\r\n\r\n\t\tconst currentMealItem = prevMeals.find((meal) => meal.id === mealId)\r\n\t\tif(currentMealItem.amount === 1){\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddedMeals: prevMeals.filter(\r\n\t\t\t\t\t(meal) => meal.id !== currentMealItem.id,\r\n\t\t\t\t\t),\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tconst newAddedMeals = prevMeals.map((meal)=> {\r\n\t\t\tif(meal.id === mealId){\r\n\t\t\t\treturn {...meal, amount: meal.amount - 1} ////we added mealsAmount+1\r\n\t\t\t}\r\n\t\t\treturn meal\r\n\t\t}) ///[{sushi=amount:5-1-1, id:1}, {pizza=amount:1, id:2}]\r\n\t\r\n\t\treturn{\r\n\t\t\t...state,\r\n\t\t\taddedMeals: newAddedMeals,\r\n\t\t}\r\n\t}\t\r\n\t\r\n\r\n\tdefault:{\r\n\t\treturn state\r\n\t}\r\n\t\t\r\n}\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n\tconst [cartState, dispatch] = useReducer(reducer, { addedMeals: [] });\r\n\tconst { addedMeals = [] } = cartState;\r\n\r\n\t\r\n\r\n\tconst addMealHandler = (newMeal) => {\r\n\t\tdispatch({ type: ADD_MEAL_TYPE, payload: newMeal });\r\n\t\t\r\n\t}\r\n\r\n\tconst increaseMealAmountHandler = (id) => {\r\n\t\tconsole.log(id, \"id of choosen meal\");\r\n\t\tdispatch({type: INCREASE_MEAL_AMOUNT_TYPE, payload: id })\r\n\t}\r\n\tconst decreaseMealAmountHandler = (id) => {\r\n\t\tconsole.log(id, \"id of choosen meal\");\r\n\t\tdispatch({type: DECREASE_MEAL_AMOUNT_TYPE, payload: id })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CartContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\taddedMeals,\r\n\t\t\t\tonAddMeal: addMealHandler,\r\n\t\t\t\ttotalAmount,\r\n\t\t\t\tonIncreaseMealAmount: increaseMealAmountHandler,\r\n\t\t\t\tonDecreaseMealAmount: decreaseMealAmountHandler,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</CartContext.Provider>\r\n\t)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}